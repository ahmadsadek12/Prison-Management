<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import java.net.URL?>

<VBox spacing="10" xmlns="http://javafx.com/javafx" 
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.example.controllers.EquipmentFormController"
      styleClass="form-container">
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header -->
    <Label text="Equipment Information" styleClass="form-title"/>
    <Separator/>

    <!-- Form Fields -->
    <GridPane vgap="15" hgap="15" styleClass="form-grid">
        <columnConstraints>
            <ColumnConstraints minWidth="120" prefWidth="150"/>
            <ColumnConstraints minWidth="200" prefWidth="300" hgrow="ALWAYS"/>
        </columnConstraints>

        <!-- Basic Information -->
        <Label text="Equipment Name:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
            <TextField fx:id="nameField" promptText="Enter equipment name"/>
            <Label fx:id="nameErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <Label text="Equipment Type:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
            <ComboBox fx:id="typeComboBox" promptText="Select equipment type"/>
            <Label fx:id="typeErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <Label text="Status:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="2">
            <ComboBox fx:id="statusComboBox" promptText="Select status"/>
            <Label fx:id="statusErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <Label text="Condition:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="3">
            <ComboBox fx:id="conditionComboBox" promptText="Select condition"/>
            <Label fx:id="conditionErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <!-- Dates and Financial Information -->
        <Label text="Purchase Date:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="4">
            <DatePicker fx:id="purchaseDatePicker"/>
            <Label fx:id="purchaseDateErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <Label text="Last Maintenance:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="5">
            <DatePicker fx:id="lastMaintenancePicker"/>
            <Label fx:id="lastMaintenanceErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <Label text="Purchase Amount:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="6">
            <HBox spacing="10">
                <TextField fx:id="amountField" promptText="Enter amount" HBox.hgrow="ALWAYS"/>
                <ComboBox fx:id="currencyComboBox" promptText="Currency" prefWidth="100"/>
            </HBox>
            <Label fx:id="amountErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <!-- Location Information -->
        <Label text="Location:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="7">
            <HBox spacing="10">
                <ComboBox fx:id="blockComboBox" promptText="Block" HBox.hgrow="ALWAYS"/>
                <ComboBox fx:id="roomComboBox" promptText="Room" HBox.hgrow="ALWAYS"/>
            </HBox>
            <Label fx:id="locationErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <!-- Description and Notes -->
        <Label text="Description:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="8"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="8">
            <TextArea fx:id="descriptionArea" promptText="Enter equipment description" prefRowCount="3"/>
            <Label fx:id="descriptionErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>

        <Label text="Notes:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="9"/>
        <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="9">
            <TextArea fx:id="notesArea" promptText="Enter additional notes" prefRowCount="3"/>
            <Label fx:id="notesErrorLabel" styleClass="error-label" visible="false"/>
        </VBox>
    </GridPane>

    <!-- Maintenance Schedule -->
    <TitledPane text="Maintenance Schedule" expanded="true">
        <VBox spacing="10">
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Next Maintenance:" styleClass="field-label"/>
                <DatePicker fx:id="nextMaintenancePicker"/>
                <Label text="Frequency:" styleClass="field-label"/>
                <ComboBox fx:id="maintenanceFrequencyComboBox" promptText="Select frequency"/>
                <Button text="Add Schedule" onAction="#handleAddMaintenanceSchedule" styleClass="secondary-button"/>
            </HBox>
            <TableView fx:id="maintenanceScheduleTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="scheduleDateColumn" text="Date" prefWidth="120"/>
                    <TableColumn fx:id="scheduleTypeColumn" text="Type" prefWidth="120"/>
                    <TableColumn fx:id="scheduleStatusColumn" text="Status" prefWidth="100"/>
                    <TableColumn fx:id="scheduleActionsColumn" text="Actions" prefWidth="100"/>
                </columns>
                <placeholder>
                    <Label text="No maintenance schedules"/>
                </placeholder>
            </TableView>
        </VBox>
    </TitledPane>

    <!-- Status Message -->
    <Label fx:id="statusMessage" styleClass="status-message" visible="false"/>

    <!-- Action Buttons -->
    <HBox spacing="10" alignment="CENTER_RIGHT" styleClass="button-container">
        <Button text="Cancel" onAction="#handleCancel" styleClass="secondary-button"/>
        <Button text="Save" onAction="#handleSave" styleClass="primary-button" defaultButton="true"/>
    </HBox>

    <stylesheets>
        <URL value="@../styles/dashboard.css"/>
    </stylesheets>
</VBox> 